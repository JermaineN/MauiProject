<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MoviesMauiApp.ViewModels"
             x:Class="MoviesMauiApp.Views.DetailsPage"
             Title="{Binding Title}">

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">
            <!-- Big Emoji Header -->
            <!-- Big Emoji Header -->
            <Label x:Name="EmojiLabel" 
                   Text="{Binding Movie.Emoji}"
                   FontSize="120"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center"/>

            <!-- Action Button -->
            <Button Text="{Binding IsFavourite, Converter={StaticResource BoolToFavTextConverter}}"
                    Command="{Binding ToggleFavouriteCommand}"
                    Clicked="OnFavouriteClicked"
                    BackgroundColor="{Binding IsFavourite, Converter={StaticResource BoolToFavColorConverter}}"
                    TextColor="White"
                    HorizontalOptions="Center"
                    CornerRadius="20"/>

            <!-- Title & Info -->
            <Label Text="{Binding Movie.Title}" FontSize="28" FontAttributes="Bold" HorizontalTextAlignment="Center"/>
            
            <Grid ColumnDefinitions="*, *" RowDefinitions="Auto, Auto, Auto" ColumnSpacing="10" RowSpacing="10">
                <Label Text="Year:" FontAttributes="Bold" Grid.Row="0" Grid.Column="0" HorizontalTextAlignment="End"/>
                <Label Text="{Binding Movie.Year}" Grid.Row="0" Grid.Column="1"/>
                
                <Label Text="Director:" FontAttributes="Bold" Grid.Row="1" Grid.Column="0" HorizontalTextAlignment="End"/>
                <Label Text="{Binding Movie.Director}" Grid.Row="1" Grid.Column="1"/>
                
                <Label Text="IMDB:" FontAttributes="Bold" Grid.Row="2" Grid.Column="0" HorizontalTextAlignment="End"/>
                <Label Text="{Binding Movie.ImdbRating}" Grid.Row="2" Grid.Column="1"/>
            </Grid>
            
            <Label Text="Genres:" FontAttributes="Bold" Margin="0,10,0,0"/>
            <Label Text="{Binding Movie.GenreString}"/>
            
        </VerticalStackLayout>
    </ScrollView>
    
    <ContentPage.Resources>
        <!-- Simple Converters inline or referencing resource dict. 
             Ideally in Resources/Converters. For simplicity, just triggers or simple logic. 
             If converters missing, will crash. I'll make the buttons simpler text binding or use triggers. -->
    </ContentPage.Resources>

</ContentPage>
